<!--
  Generated template for the AllWebsitesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
      <button ion-button menuToggle start>
          <ion-icon name="menu"></ion-icon>
        </button>
    <ion-title>ALL WEBSITES</ion-title>
    <ion-buttons end *ngIf="allWebsiteList.length<=0&&showCreateButton">
      <button ion-button (click)="createWebsite();">Create Website</button>
    </ion-buttons>
  </ion-navbar>
  
</ion-header>


<ion-content padding>
    <ion-refresher (ionRefresh)="viewAllWebsite($event)">
        <ion-refresher-content></ion-refresher-content>
      </ion-refresher>
    <ion-chip *ngIf="notificationMsg!=''">
        <ion-label color="secondary">{{notificationMsg}}</ion-label>
      </ion-chip>
  <ion-list *ngIf="!isApp">
    <ion-item *ngFor="let website of allWebsiteList">
        <ion-item no-lines (click)="editWebsite(website.id)">
            
    <ion-avatar item-start>
      <img src={{imgBaseUrl}}{{website.identity_logo}} *ngIf="website.identity_logo!=''"/>
      <img src={{noImgUrl}} *ngIf="website.identity_logo==''"/></ion-avatar>
      <h2>{{website.identity_name}}</h2>
      <p>{{website.website}}</p>
      <p>Private Key:{{website.key_private}}</p>
      <p>Public Key:{{website.key_public}}</p>
      <p>Status:<span *ngIf="website.status==1">Yes</span>
        <span *ngIf="website.status==0">No</span></p>
        <p>
          <a (click)="openInAppBrowser('http://search.cotierproperties.com')">View Pages/Widgets</a>
        </p>
        </ion-item>
        <button ion-button item-right color="danger" (click)="deleteWebsite(website)">
            <ion-icon name="trash"></ion-icon>
          </button>
        
            <button ion-button item-right color="secondary" (click)="editLeadRouting(website.id)">
              <ion-icon name="construct"></ion-icon>
            </button>
            <button ion-button item-right color="secondary" (click)="viewPaperWorkStatus(website.id)">
              <ion-icon name="settings"></ion-icon>
            </button>
    </ion-item>
  </ion-list>
    <ion-list *ngIf="isApp">
    <ion-item-sliding *ngFor="let website of allWebsiteList">
      <ion-item no-lines (click)="editWebsite(website.id)">
            
        <ion-avatar item-start>
          <img src={{imgBaseUrl}}{{website.identity_logo}} *ngIf="website.identity_logo!=''"/>
          <img src={{noImgUrl}} *ngIf="website.identity_logo==''"/></ion-avatar>
          <h2>{{website.identity_name}}</h2>
          <p>{{website.website}}</p>
          <p>Private Key:{{website.key_private}}</p>
          <p>Public Key:{{website.key_public}}</p>
          <p>Status:<span *ngIf="website.status==1">Yes</span>
            <span *ngIf="website.status==0">No</span></p>
            </ion-item>
      <ion-item-options side="right">
        <button ion-button item-right color="danger" (click)="deleteWebsite(website)">
          <ion-icon name="trash"></ion-icon>
        </button>
      
          <button ion-button item-right color="secondary" (click)="editLeadRouting(website.id)">
            <ion-icon name="construct"></ion-icon>
          </button>
          <button ion-button item-right color="secondary" (click)="viewPaperWorkStatus(website.id)">
            <ion-icon name="settings"></ion-icon>
          </button>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
  <ion-chip *ngIf='allWebsiteList.length<=0&&websiteFoundMessage!=""'>
      <ion-label color="danger">{{websiteFoundMessage}}</ion-label>
  </ion-chip>
 
</ion-content>
