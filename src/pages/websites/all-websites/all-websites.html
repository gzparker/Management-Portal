<!--
  Generated template for the AllWebsitesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
      <button ion-button menuToggle start>
          <ion-icon name="menu"></ion-icon>
        </button>
    <ion-title>ALL WEBSITES</ion-title>
    <!--<ion-buttons end *ngIf="allWebsiteList.length<=0&&showCreateButton">
      <button ion-button (click)="createWebsite();">Create Website</button>
    </ion-buttons>-->
    <ion-buttons end *ngIf="showCreateButton">
        <button ion-button (click)="createWebsite();">Create Website</button>
      </ion-buttons>
  </ion-navbar>
  
</ion-header>


<ion-content>
  <h1 class="contentTitle">All Websites</h1>

  <ion-refresher (ionRefresh)="viewAllWebsite($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-chip *ngIf="notificationMsg!=''">
    <ion-label color="secondary">{{notificationMsg}}</ion-label>
  </ion-chip>

  <ion-list *ngIf="!isApp">
      <ion-item *ngFor="let website of allWebsiteList">
          <ion-item class="websiteThumb">
              <ion-thumbnail item-start  (click)="websiteLinks(website.id)">
                <img src={{imgBaseUrl}}{{website.identity_logo}} *ngIf="website.identity_logo!=''"/>
                <img src={{noImgUrl}} *ngIf="website.identity_logo==''"/>
              </ion-thumbnail>
              <!--<ion-thumbnail item-start *ngIf="isEditWebsiteAccess==false">
                  <img src={{imgBaseUrl}}{{website.identity_logo}} *ngIf="website.identity_logo!=''"/>
                  <img src={{noImgUrl}} *ngIf="website.identity_logo==''"/>
                </ion-thumbnail>-->
              <!--<h2 (click)="editWebsite(website.id)"  *ngIf="isEditWebsiteAccess==true">{{website.identity_name}}</h2>-->
              <h2 (click)="websiteLinks(website.id)">{{website.identity_name}}</h2>
              <p class="hidden">{{website.website}}</p>
              <p class="hidden">Private Key:{{website.key_private}}</p>
              <p class="hidden">Public Key:{{website.key_public}}</p>
              <p>Status: <span *ngIf="website.status==1"><ion-badge color="primary">Active</ion-badge></span>
              <span *ngIf="website.status==0"><ion-badge color="danger">Not Active</ion-badge></span></p>
              <!--<p><a (click)="websiteLinks(website.id)">View Pages/Widgets</a></p>-->
            </ion-item>
            <button ion-button color="primary" item-right class="roundedOption btn-settings" (click)="editWebsite(website.id)" *ngIf="isEditWebsiteAccess==true"><ion-icon name="md-create"></ion-icon>Edit</button>
            <button ion-button color="primary" item-right class="roundedOption btn-settings" (click)="editLeadRouting(website.id)"><ion-icon name="md-create"></ion-icon>Lead Routing</button>
            <button ion-button color="primary" item-right class="roundedOption btn-info" (click)="viewPaperWorkStatus(website.id)" *ngIf="isMlsSettings==true"><ion-icon name="ios-pulse"></ion-icon>Status</button>
            <button ion-button color="danger" item-right class="roundedOption btn-del" (click)="deleteWebsite(website)" *ngIf="isDeleteWebsiteAccess==true"><ion-icon name="md-close"></ion-icon>Delete</button>
        </ion-item>
    <!--<ion-item-sliding *ngFor="let website of allWebsiteList">
      
      <ion-item class="websiteThumb">
        <ion-thumbnail item-start (click)="editWebsite(website.id)" *ngIf="isEditWebsiteAccess==true">
          <img src={{imgBaseUrl}}{{website.identity_logo}} *ngIf="website.identity_logo!=''"/>
          <img src={{noImgUrl}} *ngIf="website.identity_logo==''"/>
        </ion-thumbnail>
        <ion-thumbnail item-start *ngIf="isEditWebsiteAccess==false">
            <img src={{imgBaseUrl}}{{website.identity_logo}} *ngIf="website.identity_logo!=''"/>
            <img src={{noImgUrl}} *ngIf="website.identity_logo==''"/>
          </ion-thumbnail>
        <h2 (click)="editWebsite(website.id)"  *ngIf="isEditWebsiteAccess==true">{{website.identity_name}}</h2>
        <h2 *ngIf="isEditWebsiteAccess==false">{{website.identity_name}}</h2>
        <p class="hidden">{{website.website}}</p>
        <p class="hidden">Private Key:{{website.key_private}}</p>
        <p class="hidden">Public Key:{{website.key_public}}</p>
        <p>Status: <span *ngIf="website.status==1"><ion-badge color="primary">Active</ion-badge></span>
        <span *ngIf="website.status==0"><ion-badge color="danger">Not Active</ion-badge></span></p>
        <p><a (click)="websiteLinks(website.id)">View Pages/Widgets</a></p>    
      </ion-item>

      <ion-item-options side="right">        
          <button ion-button color="primary" class="roundedOption btn-settings" (click)="editLeadRouting(website.id)" *ngIf="isEditWebsiteAccess==false"><ion-icon name="md-create"></ion-icon>Edit</button>
          <button ion-button color="primary" class="roundedOption btn-info" (click)="viewPaperWorkStatus(website.id)" *ngIf="isMlsSettings==true"><ion-icon name="ios-pulse"></ion-icon>Status</button>
          <button ion-button color="danger" class="roundedOption btn-del" (click)="deleteWebsite(website)" *ngIf="isDeleteWebsiteAccess==true"><ion-icon name="md-close"></ion-icon>Delete</button>
        </ion-item-options>

    </ion-item-sliding>-->
  </ion-list>

  <ion-list *ngIf="isApp">
    <ion-item-sliding *ngFor="let website of allWebsiteList">
      
      <ion-item class="websiteThumb">
        <ion-avatar item-start (click)="editWebsite(website.id)"  *ngIf="isEditWebsiteAccess==true">
          <img src={{imgBaseUrl}}{{website.identity_logo}} *ngIf="website.identity_logo!=''"/>
          <img src={{noImgUrl}} *ngIf="website.identity_logo==''"/>
        </ion-avatar>
        <ion-avatar item-start  *ngIf="isEditWebsiteAccess==false">
            <img src={{imgBaseUrl}}{{website.identity_logo}} *ngIf="website.identity_logo!=''"/>
            <img src={{noImgUrl}} *ngIf="website.identity_logo==''"/>
          </ion-avatar>
        <h2 (click)="editWebsite(website.id)"  *ngIf="isEditWebsiteAccess==true">{{website.identity_name}}</h2>
        <h2 *ngIf="isEditWebsiteAccess==false">{{website.identity_name}}</h2>
        <p class="hidden">{{website.website}}</p>
        <p class="hidden">Private Key:{{website.key_private}}</p>
        <p class="hidden">Public Key:{{website.key_public}}</p>
        <p>Status: <span *ngIf="website.status==1"><ion-badge color="primary">Active</ion-badge></span>
        <span *ngIf="website.status==0"><ion-badge color="danger">Not Active</ion-badge></span></p>
      </ion-item>

      <ion-item-options side="right">        
        <button ion-button color="primary" class="roundedOption btn-settings" (click)="editLeadRouting(website.id)" *ngIf="isEditWebsiteAccess==true"><ion-icon name="md-create"></ion-icon>Edit</button>
        <button ion-button color="primary" class="roundedOption btn-info" (click)="viewPaperWorkStatus(website.id)" *ngIf="isMlsSettings==true"><ion-icon name="ios-pulse"></ion-icon>Status</button>
        <button ion-button color="danger" class="roundedOption btn-del" (click)="deleteWebsite(website)" *ngIf="isDeleteWebsiteAccess==true"><ion-icon name="md-close"></ion-icon>Delete</button>
      </ion-item-options>

    </ion-item-sliding>
  </ion-list>

  <ion-chip *ngIf='allWebsiteList.length<=0&&websiteFoundMessage!=""'>
    <ion-label color="danger">{{websiteFoundMessage}}</ion-label>
  </ion-chip>
 
</ion-content>
