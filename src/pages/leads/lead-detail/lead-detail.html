<!--
  Generated template for the LeadDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border class="dashboardUI">
    <ion-navbar>
      <!-- <button ion-button menuToggle start>
        <ion-icon name="menu"></ion-icon>
      </button> -->
      <!-- <ion-title>Lead Detail</ion-title> -->
      <!-- <ion-buttons end>
        <button ion-button (click)="editLead();" *ngIf="isEditLeadAccess==true">
          <ion-icon name="ios-bookmark"></ion-icon>
        </button>
      </ion-buttons> -->
    </ion-navbar>
</ion-header>

<ion-content padding class="generalInfoUI">

  <ion-list class="animated lightSpeedIn">
    <ion-item class="leadsProfile">
      <ion-avatar class="imgFull" *ngIf="leadDetail!=undefined">
      <!--<img src={{leadDetail.image_url}} *ngIf="leadDetail.image_url!=null"/>
      <img src={{noImgUrl}} *ngIf="leadDetail.image_url==null"/>-->
      <img src="{{leadDetail.image_url}}" (error)="imgLead.src = this.sharedServiceObj.profileNoImage" #imgLead/>
      </ion-avatar>
      <h2 class="agentName" *ngIf="leadDetail!=undefined">{{leadDetail.first_name}} {{leadDetail.last_name}}</h2>
      <p class="agentEmail" *ngIf="leadDetail!=undefined">{{leadDetail.email}}</p>      
    </ion-item>
  </ion-list>
  
  <h1 class="contentTitle animated bounceInRight">Contact Details</h1>
  
  <ion-list class="animated lightSpeedIn leadsInfo">
      <!-- <ion-item *ngIf="leadDetail!=undefined">
        <ion-icon name="ios-mail-outline" item-start></ion-icon>
        <h2>Leads Name</h2>
        <p>{{leadDetail.first_name}} {{leadDetail.last_name}}</p>
      </ion-item> -->
      
      <!-- <ion-item *ngIf="leadDetail!=undefined">
        <ion-icon name="ios-mail-outline" item-start></ion-icon>
        <h2>Email</h2>
        <p>{{leadDetail.email}}</p>
      </ion-item> -->

      <ion-item class="leadsWebURL" *ngIf="leadDetail!=undefined">
        <ion-icon name="ios-globe-outline" item-start></ion-icon>
        <h2>Website</h2>
        <p data-placeholder="N/A">{{leadDetail.website}}</p>
      </ion-item>

      <ion-item class="leadsPhone1" *ngIf="leadDetail!=undefined">
        <ion-icon name="md-call" item-start></ion-icon>
        <h2>Mobile #</h2>
        <p data-placeholder="N/A">{{leadDetail.phone_mobile}}</p>
      </ion-item>

      <ion-item class="leadsPhone2" *ngIf="leadDetail!=undefined">
        <ion-icon name="md-call" item-start></ion-icon>
        <h2>Office #</h2>
        <p data-placeholder="N/A">{{leadDetail.phone_office}}</p>
      </ion-item>

      <ion-item class="leadsPhone3" *ngIf="leadDetail!=undefined">
        <ion-icon name="md-call" item-start></ion-icon>
        <h2>Home #</h2>
        <p data-placeholder="N/A">{{leadDetail.phone_home}}</p>
      </ion-item>

      <ion-item class="leadsHomeAddress" *ngIf="leadDetail!=undefined">
        <ion-icon name="md-home" item-start></ion-icon>
        <h2>Home Address</h2>
        <p data-placeholder="N/A">{{leadDetail.home_address}}</p>
      </ion-item>

      <div class="leadsHomeAddressMap">
        <div #mapHome id="mapHome" style="width:100%;" [style.height]="map_home_height+'px'"></div>
      </div>

      <ion-item class="leadsWorkAddress" *ngIf="leadDetail!=undefined">
        <ion-icon name="md-briefcase" item-start></ion-icon>
        <h2>Work Address</h2>
        <p data-placeholder="N/A">{{leadDetail.work_address}}</p>
      </ion-item>

      <div class="leadsWorkAddressMap">
        <div #mapWork id="mapWork" style="width:100%;" [style.height]="map_work_height+'px'"></div>
      </div>
  </ion-list>  


  <ion-list class="leadNotes">
      <ion-item *ngIf="leadDetail!=undefined">
        <h2 class="contentTitle">Internal Notes</h2>
        <p data-placeholder="N/A">{{leadDetail.internal_notes}}</p>        
      </ion-item>
  </ion-list>

  <ion-list class="leadListings" *ngIf="selectedSegment=='2'">

    <!-- <h2 class="contentTitle">Saved Listings</h2> -->

    <ion-item *ngFor="let saved_listing of savedListings">
        
        <ion-avatar item-start>
          <img src="{{saved_listing.url}}"
          (error)="imgListing.src = this.sharedServiceObj.profileNoImage" #imgListing/>
          <!--<img [src]="saved_listing.url" *ngIf="saved_listing.url!=''"/>
          <img src="././assets/imgs/noImage.png" *ngIf="saved_listing.url==''"/>-->
        </ion-avatar>
        <h2 *ngIf="saved_listing.listing_type=='for_sale'">For Sale</h2>
        <h2 *ngIf="saved_listing.listing_type=='for_rent'">For Rent</h2>
        <p>Price: ${{saved_listing.price}}</p>
        <p>Description: {{saved_listing.description}}</p>
        </ion-item>

  </ion-list>
  
  <ion-list class="leadHotsheetName" *ngIf="selectedSegment=='3'">
      <ion-item *ngFor="let subscribed_hotsheet of subscribed_hotsheets">
      <h2 class="contentTitle">{{subscribed_hotsheet.name}}</h2>
      </ion-item>
  </ion-list>
  
  <ion-list class="leadSearchName" *ngIf="selectedSegment=='1'">
    <ion-item *ngFor="let saved_search of saved_searches">      
      <h2 class="contentTitle">{{saved_search.search_name}}</h2>
    </ion-item>
  </ion-list>

  <ion-segment [(ngModel)]="leadsDetailSegment" color="primary" (ionChange)="segmentChanged($event)">
        <ion-segment-button value="1">
          Saved Searches
        </ion-segment-button>
        <ion-segment-button value="2">
            Saved Listing
        </ion-segment-button>
        <ion-segment-button value="3">
            Hotsheet Subscribed
        </ion-segment-button>
  </ion-segment>

</ion-content>
