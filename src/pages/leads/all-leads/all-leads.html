<!--
  Generated template for the AllLeadsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="dashboardUI">
  <ion-navbar>
    <button ion-button menuToggle start>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>All Leads</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding class="dashboardUI">
  <!-- <h1 class="contentTitle animated bounceInRight">All Leads</h1> -->

  <ion-refresher (ionRefresh)="viewAllLeads($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <!--<ion-chip *ngIf="notificationMsg!=''">
    <ion-label color="secondary">{{notificationMsg}}</ion-label>
  </ion-chip>-->
  
  <div class="animated lightSpeedIn">
  <ion-searchbar [(ngModel)]="searchLeadTerm" (ionInput)="setLeadFilteredItems()"></ion-searchbar>

  <ion-list class="noShadow">
    <ion-item>
      <ion-label>Category</ion-label>
      <ion-select [(ngModel)]="category" name="category" id="category" (ngModelChange)="filterItemsByCategory()">
       
        <ion-option value="buyer">Buyer</ion-option>
        <ion-option value="seller">Seller</ion-option>
        <ion-option value="prospect">Prospect</ion-option>
        <ion-option value="friend">Friend</ion-option>
        <ion-option value="client">Client</ion-option>
        <ion-option value="active">Active</ion-option>
        <ion-option value="pending">Pending</ion-option>
        <ion-option value="closed">Closed</ion-option>
        <ion-option value="old">Old</ion-option>
        <ion-option value="new">New</ion-option>
        <ion-option value="other">Other</ion-option>

      </ion-select>
    </ion-item>
  </ion-list>
  </div>
  
  <ion-list-header>Leads Name</ion-list-header>

  <!--<div class="formShadow">
  <ion-list class="animated lightSpeedIn noShadow">

    <ion-item *ngFor="let lead of searchedLeadsList">
      
        <ion-item (click)="leadDetail(lead.lead_id);">
            <ion-avatar item-start *ngIf="leadDetail!=undefined">
              <img src="assets/imgs/profile-photo.jpg">
            </ion-avatar>
            <h2>{{lead.first_name}} <b>{{lead.last_name}}</b></h2>
          </ion-item>
            <button ion-button color="primary" item-right class="roundedOption btn-settings" *ngIf="isEditLeadAccess==true" (click)="editLead(lead.lead_id)">
              <ion-icon name="ios-brush">Edit</ion-icon>
            </button>    
            <button ion-button color="danger" item-right class="roundedOption btn-del" (click)="deleteLead(lead)" *ngIf="isDeleteLeadAccess==true">
              <ion-icon name="md-trash">Delete</ion-icon>
            </button>
    </ion-item>    
  </ion-list>
  </div>-->

  <div class="formShadow">
  <ion-list class="noShadow">
    <ion-item-sliding *ngFor="let lead of searchedLeadsList">
      
      <ion-item no-lines (click)="leadDetail(lead.lead_id);">
        
        <ion-avatar item-start *ngIf="leadDetail!=undefined">
            <img src={{this.sharedServiceObj.imgBucketUrl}}{{lead.image_url}} 
            (error)="imgLead.src = this.sharedServiceObj.profileNoImage" #imgLead/>
          <!--<img src="assets/imgs/profile-photo.jpg">-->
        </ion-avatar>
        <h2>{{lead.first_name}}-{{lead.last_name}}</h2>
        <p>Email:{{lead.email}}</p>
        <p>Website:{{lead.website}}</p>
        <p>Mobile Number:{{lead.phone_mobile}}</p>
        <p>Office Number:{{lead.phone_office}}</p>
        <p>Home:{{lead.phone_home}}</p>
        <ion-icon class="light" name="arrow-forward" item-right></ion-icon>
      </ion-item>

      <ion-item-options side="right" *ngIf="isApp">
        <button ion-button color="primary" class="roundedOption btn-settings" (click)="editLead(lead.lead_id)" *ngIf="isEditLeadAccess==true">
          Edit
        </button>
        <button ion-button color="danger" class="roundedOption btn-del" (click)="deleteLead(lead)" *ngIf="isDeleteLeadAccess==true">
          Delete
        </button>
      </ion-item-options>
      <ion-item side="right" *ngIf="!isApp">
        <button ion-button color="primary" class="roundedOption btn-settings" (click)="editLead(lead.lead_id)" *ngIf="isEditLeadAccess==true">
          Edit
        </button>
        <button ion-button color="danger" class="roundedOption btn-del" (click)="deleteLead(lead)" *ngIf="isDeleteLeadAccess==true">
          Delete
        </button>
      </ion-item>
    </ion-item-sliding>
  </ion-list>
  </div>

  <div>
    <ion-segment *ngIf="userWebsites.length>0">
      <ion-segment-button (click)="sendToPaperWork();" *ngIf="isLeadSetupAccess==true">
        Where to send leads
      </ion-segment-button>
      <ion-segment-button (click)="createLead();" *ngIf="isCreateLeadAccess==true">
        Create Lead
      </ion-segment-button>
    </ion-segment>
  </div>

  <!--<ion-chip *ngIf='searchedLeadsList.length<=0&&leadsFoundMessage!=""'>
    <ion-label color="danger">{{leadsFoundMessage}}</ion-label>
  </ion-chip>-->

</ion-content>
