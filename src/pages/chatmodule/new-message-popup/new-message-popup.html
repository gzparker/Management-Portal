<!--
  Generated template for the NewMessagePopupPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="dashboardUI">
  <ion-navbar>
    
    <ion-title>New Message</ion-title>
    <!-- <button ion-button end class="button button-clear" (click)="closePopUp();">Cancel</button> -->

    <ion-buttons end>
      <button ion-button end icon-left (click)="closePopUp();">Cancel</button>
    </ion-buttons>

  </ion-navbar>
</ion-header>


<ion-content padding class="dashboardUI newMessage noScroll">
  
  <form role="form" data-toggle="validator" #messageForm="ngForm">

      
      <div class="msgSearchBarWrapper">
        <ion-item class="msgSearchBar" *ngIf="isContact==2">                
            <ion-searchbar placeholder="Search for contacts" (input)="filterContacts()" [(ngModel)]="searchKeyword" name="searchKeyword" id="searchKeyword"></ion-searchbar>
        </ion-item>

        <ion-list class="msgSearchBarResults" *ngIf="isContact==2">
            <ion-item *ngFor="let availableContact of allAvailableSearchedContacts">
                <ion-item (click)="selectChatMember(availableContact)">
                  {{availableContact.first_name}}
                </ion-item>
            </ion-item>
        </ion-list>
      </div>

      
      <div class="customList">
        <div class="msgBoxWrapper">
          <ion-item class="msgBox">
              <ion-label stacked>Add Message<span [ngClass]="{'error': description==''}" *ngIf="description==''">*</span></ion-label>
              <ion-textarea type="text" [(ngModel)]="description" name="description" required></ion-textarea>
          </ion-item>

          <div class="dashboardBtn">
              <!-- <button ion-button color="primary" block (click)="sendMessage('new')">Send</button> -->
              <button ion-button icon-start color="primary" block (click)="sendMessage('new')">
                <ion-icon name="ios-send"></ion-icon>
                Send
              </button>
          </div>
        </div>
      </div>

  </form>

</ion-content>
