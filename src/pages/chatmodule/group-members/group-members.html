<!--
  Generated template for the GroupMembersPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="dashboardUI chatUI">   
  <ion-navbar>

    <!-- <button ion-button menuToggle start>
      <ion-icon name="menu"></ion-icon>
    </button> -->
    <ion-title>Edit Group Chat</ion-title>
    
  </ion-navbar>  
</ion-header>
  
  
<ion-content padding class="dashboardUI chatUI">
  <!-- <h1 class="contentTitle animated bounceInRight">Group Details</h1> -->
  <form role="form" data-toggle="validator" #groupForm="ngForm">
  
    <div class="customList">
      <div class="msgBoxWrapper">
        <ion-item>
          <ion-label stacked>Edit Group Name<span [ngClass]="{'error': groupTitle==''}" *ngIf="groupTitle==''">*</span></ion-label>
          <ion-input type="text" placeholder="Add Group Name" required [(ngModel)]="groupTitle" name="groupTitle" id="groupTitle"></ion-input>
        </ion-item>
        <ion-item>
          <ion-label stacked>Select Group Members</ion-label>
          <ion-select placeholder="-----" [(ngModel)]="groupMembersData"  
          name="groupMembersData" multiple="true">
          <ion-option *ngFor="let availableContact of allAvailableContacts" [value]=availableContact>
          {{availableContact.first_name}} {{availableContact.last_name}}
          </ion-option>
          </ion-select>
        </ion-item>
        <!--<ion-item>
          <ion-label stacked>Select Group Members</ion-label>
          <ion-select placeholder="-----" [(ngModel)]="groupMembersData"  
          name="groupMembersData" multiple="true">
          <ion-option *ngFor="let availableContact of allAvailableContacts" [value]=availableContact>
          {{availableContact.first_name}} {{availableContact.last_name}}
          </ion-option>
          </ion-select>
        </ion-item>-->      
      

        <div class="dashboardBtn">
          <!-- <button ion-button color="primary" block (click)="createGroup('new')">Create</button> -->
          <button ion-button icon-start color="primary" block (click)="updateGroup()">
            <ion-icon name="ios-send"></ion-icon>
            Update
          </button>
        </div>

    </div>
  </div>

</form>
  <h1 class="contentTitle animated bounceInRight labelDark">Edit Group Members</h1>
  
  <ion-list class="noShadow" *ngIf="groupMembersData.length>0">
      <div class="chatBoxWrapper">          
          <div class="chatBoxItem">
          <div  *ngFor="let groupMember of groupMembersData">
         
            <div *ngIf="groupMember.val().userId!=firebaseUserId">
      
            <ion-item-sliding class="item item-avatar alternate-chat-left item-text-wrap" >
              <ion-item>
                <div class="chatAvatar">
                <img src={{this.sharedServiceObj.imgBucketUrl}}{{groupMember.val().image}} 
                      (error)="imgGroupMember.src = this.sharedServiceObj.profileNoImage" #imgGroupMember/>
                </div>
                <span class="chat-info">
                <h1>{{groupMember.val().memberName}}</h1>                
                </span>
              </ion-item>

              <ion-item class="desktopOption" *ngIf="!isApp">
                <div class="optionIcon" *ngIf="!isApp"></div>
                <button ion-button color="danger" item-right class="roundedOption btn-del" (click)="deleteMember(groupMember.key)"  ><ion-icon name="md-close"></ion-icon>Delete</button>
              </ion-item>
              <ion-item-options side="right" *ngIf="isApp">
                <button ion-button color="danger" item-right class="roundedOption btn-del" (click)="deleteMember(groupMember.key)"  ><ion-icon name="md-close"></ion-icon>Delete</button>
              </ion-item-options>
              
            </ion-item-sliding>
            </div>
            </div>
          </div>
         
         </div> 
 
  </ion-list>
  </ion-content>
  
